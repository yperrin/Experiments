<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default"  data-ng-repeat="menuItem in $ctrl.menu.menuItems">
        <a class="collapsed" data-ui-sref="products({path: menuItem.url})" title="{{menuItem.name}}" data-ng-if="menuItem.type == 'page'">
            <div class="panel-heading" role="tab" id="heading{{menuItem.id}}"><h4 class="panel-title">{{menuItem.name}}</h4></div>
        </a>
        <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#menu{{menuItem.id}}" aria-expanded="{{$first ? 'true' : 'false'}}" aria-controls="menu{{menuItem.id}}" data-ng-if="menuItem.type == 'menu'">
            <div class="panel-heading" role="tab" id="heading{{menuItem.id}}"><h4 class="panel-title">{{menuItem.name}}<i class="fa fa-chevron-down pull-right" aria-hidden="true"></i></h4></div>
        </a>
        <div id="menu{{menuItem.id}}" class="panel-collapse collapse {{$first ? 'in' : ''}}" role="tabpanel" aria-labelledby="heading{{menuItem.id}}">
            <div class="panel-body">
                <ul class="list-unstyled">
                    <li data-ng-repeat="subMenuItem in menuItem.items" data-ng-class="{active: $ctrl.isCurrentProduct(subMenuItem.url), 'Sub-title': (subMenuItem.type == 'menu')}" data-ng-if="menuItem.type == 'menu'">
                        <span data-ng-if="subMenuItem.type == 'menu'">{{subMenuItem.name}}</span>
                        <span data-ng-if="subMenuItem.type == 'page'"><a data-ui-sref="products({path: subMenuItem.url})">{{subMenuItem.name}}</a></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>